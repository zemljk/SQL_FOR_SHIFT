-- Создание таблицы TARIFS
CREATE TABLE TARIFS (
    ID INTEGER PRIMARY KEY,
    NAME VARCHAR(100) NOT NULL,
    COST DECIMAL(10,2) NOT NULL
);

-- Создание таблицы PRODUCT_TYPE
CREATE TABLE PRODUCT_TYPE (
    ID INTEGER PRIMARY KEY,
    NAME VARCHAR(100) NOT NULL,
    BEGIN_DATE DATE NOT NULL,
    END_DATE DATE,
    TARIF_REF INTEGER,
    FOREIGN KEY (TARIF_REF) REFERENCES TARIFS(ID)
);

-- Создание таблицы CLIENTS
CREATE TABLE CLIENTS (
    ID INTEGER PRIMARY KEY,
    NAME VARCHAR(1000) NOT NULL,
    PLACE_OF_BIRTH VARCHAR(1000),
    DATE_OF_BIRTH DATE,
    ADDRESS VARCHAR(1000),
    PASSPORT VARCHAR(100)
);

-- Создание таблицы PRODUCTS
CREATE TABLE PRODUCTS (
    ID INTEGER PRIMARY KEY,
    PRODUCT_TYPE_ID INTEGER,
    NAME VARCHAR(100) NOT NULL,
    CLIENT_REF INTEGER,
    OPEN_DATE DATE NOT NULL,
    CLOSE_DATE DATE,
    FOREIGN KEY (PRODUCT_TYPE_ID) REFERENCES PRODUCT_TYPE(ID),
    FOREIGN KEY (CLIENT_REF) REFERENCES CLIENTS(ID)
);

-- Создание таблицы ACCOUNTS
CREATE TABLE ACCOUNTS (
    ID INTEGER PRIMARY KEY,
    NAME VARCHAR(100) NOT NULL,
    SALDO DECIMAL(10,2) NOT NULL,
    CLIENT_REF INTEGER,
    OPEN_DATE DATE NOT NULL,
    CLOSE_DATE DATE,
    PRODUCT_REF INTEGER,
    ACC_NUM VARCHAR(25) UNIQUE NOT NULL,
    FOREIGN KEY (CLIENT_REF) REFERENCES CLIENTS(ID),
    FOREIGN KEY (PRODUCT_REF) REFERENCES PRODUCTS(ID)
);

-- Создание таблицы RECORDS
CREATE TABLE RECORDS (
    ID INTEGER PRIMARY KEY,
    DT INTEGER NOT NULL,
    ACC_REF INTEGER,
    OPER_DATE DATE NOT NULL,
    SUM DECIMAL(10,2) NOT NULL,
    FOREIGN KEY (ACC_REF) REFERENCES ACCOUNTS(ID)
);
