# Задания по Базе Данных Банка

Этот README файл содержит список заданий по работе с базой данных банковских операций.

## Задания

1.  **DDL-скрипты:**
    Подготовьте DDL-скрипты создания объектов для приведённой модели: создание таблиц, первичных, уникальных, внешних ключей и т.д. (PostgreSQL).

2.  **Заполнение таблиц (из скрипта):**
    Заполните таблицы примерами из приложенного скрипта. (Предполагается наличие `data.sql` или аналогичного файла).

3.  **Тестовые данные:**
    Подготовьте скрипты заполнения таблиц тестовыми данными, достаточными для выполнения заданий ниже (если приложенного недостаточно).

4.  **Счета депозитных клиентов без кредитов:**
    Сформируйте отчет, который содержит все счета, относящиеся к продуктам типа ДЕПОЗИТ, принадлежащих клиентам, у которых нет открытых продуктов типа КРЕДИТ.

5.  **Средние движения по счетам:**
    Сформируйте выборку, который содержит средние движения по счетам в рамках одного произвольного дня, в разрезе типа продукта.

6.  **Клиенты с операциями за месяц:**
    Сформируйте выборку, в который попадут клиенты, у которых были операции по счетам за прошедший месяц от текущей даты. Выведите клиента и сумму операций за день в разрезе даты.

7.  **Нормализация данных:**
    В результате сбоя в базе данных разъехалась информация между остатками и операциями по счетам. Напишите нормализацию (процедуру выравнивающую данные), которая найдет такие счета и восстановит остатки по счету.

8.  **Клиенты с погашенным кредитом:**
     Сформируйте выборку, который содержит информацию о клиентах, которые полностью погасили кредит, но при этом не закрыли продукт и пользуются им дальше (по продукту есть операция новой выдачи кредита).

9.  **Закрытие погашенных кредитов:**
    Закройте продукты (установите дату закрытия равную текущей) типа КРЕДИТ, у которых произошло полное погашение, но при этом не было повторной выдачи.

10. **Закрытие неактивных типов продуктов:**
    Закройте возможность открытия (установите дату окончания действия) для типов продуктов, по счетам продуктов которых, не было движений более одного месяца.

11. **Сумма договора по продукту:**
     В модель данных добавьте сумму договора по продукту. Заполните поле для всех продуктов суммой максимальной дебетовой операции по счету для продукта типа КРЕДИТ, и суммой максимальной кредитовой операции по счету продукта для продукта типа ДЕПОЗИТ или КАРТА
